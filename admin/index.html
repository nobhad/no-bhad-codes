<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - No Bhad Codes</title>
    <style>
      :root {
        --bg: #ffffff;
        --fg: #000000;
      }
      [data-theme='dark'] {
        --bg: #1a1a1a;
        --fg: #ffffff;
      }
      html,
      body {
        background-color: var(--bg);
        color: var(--fg);
        margin: 0;
        padding: 0;
      }
    </style>
    <script>
      (function () {
        try {
          const savedTheme = localStorage.getItem('theme');
          document.documentElement.setAttribute('data-theme', savedTheme || 'light');
        } catch (e) {
          document.documentElement.setAttribute('data-theme', 'light');
        }
      })();
    </script>
    <meta name="description" content="Admin Dashboard - Manage your site, leads, and analytics" />
    <meta name="robots" content="noindex, nofollow" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#e0e0e0" />
    <script type="module" src="/src/main.ts"></script>
  </head>
  <body data-page="admin">
    <!-- Auth Gate - Login Form -->
    <div class="auth-gate" id="auth-gate">
      <div class="auth-gate-container">
        <div class="auth-gate-header">
          <h1>Admin Access</h1>
          <p>Enter your admin password to continue</p>
        </div>
        <form class="auth-gate-form" id="admin-login-form">
          <!-- Hidden username field for accessibility and password managers -->
          <input
            type="email"
            id="admin-username"
            name="username"
            value="admin@nobhad.codes"
            autocomplete="username"
            tabindex="-1"
            aria-hidden="true"
            style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0;"
          />
          <div class="form-group">
            <label for="admin-password" class="visually-hidden">Admin Password</label>
            <div class="password-input-wrapper">
              <input
                type="password"
                id="admin-password"
                name="password"
                placeholder="Admin Password"
                required
                autocomplete="current-password"
              />
              <button type="button" class="password-toggle" id="password-toggle" aria-label="Toggle password visibility">
                <svg class="eye-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
          </div>
          <div class="auth-error" id="auth-error"></div>
          <button type="submit" class="btn btn-primary auth-submit">
            <span class="btn-text">Sign In</span>
            <span class="btn-loading" style="display: none;">Signing in...</span>
          </button>
        </form>
        <a href="/" class="back-link">Back to site</a>
      </div>
    </div>

    <script>
      // Toggle auth button state based on input
      document.addEventListener('DOMContentLoaded', function() {
        const passwordInput = document.getElementById('admin-password');
        const submitBtn = document.querySelector('.auth-submit');
        if (passwordInput && submitBtn) {
          passwordInput.addEventListener('input', function() {
            if (this.value.trim().length > 0) {
              submitBtn.classList.add('active');
            } else {
              submitBtn.classList.remove('active');
            }
          });
        }
      });
    </script>

    <!-- Dashboard Layout (same structure as client portal) -->
    <div class="dashboard-container hidden" id="admin-dashboard">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <!-- Collapsed state avatar link -->
        <a href="/" class="sidebar-collapsed-logo" aria-label="Go to home">
          <img src="/images/avatar_small_sidebar.svg" alt="No Bhad Codes" class="sidebar-collapsed-logo-img" />
        </a>
        <div class="sidebar-content">
          <!-- Logo -->
          <a href="/" class="sidebar-logo">
            <img src="/images/avatar.svg" alt="No Bhad Codes" class="sidebar-logo-img" />
          </a>

          <!-- Admin Navigation Buttons -->
          <div class="sidebar-buttons">
            <button class="btn btn-secondary active" id="btn-overview" data-tab="overview">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><path d="m12 14 4-4"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/></svg>
              <span class="btn-text">DASHBOARD</span>
            </button>
            <button class="btn btn-secondary" id="btn-leads" data-tab="leads">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
              <span class="btn-text">LEADS</span>
              <span class="sidebar-badge" id="leads-badge" style="display: none;"></span>
            </button>
            <button class="btn btn-secondary" id="btn-projects" data-tab="projects">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>
              <span class="btn-text">PROJECTS</span>
            </button>
            <button class="btn btn-secondary" id="btn-clients" data-tab="clients">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
              <span class="btn-text">CLIENTS</span>
            </button>
            <button class="btn btn-secondary" id="btn-messages" data-tab="messages">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><path d="M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/><path d="M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1"/></svg>
              <span class="btn-text">MESSAGES</span>
              <span class="sidebar-badge" id="messages-badge" style="display: none;"></span>
            </button>
            <button class="btn btn-secondary" id="btn-analytics" data-tab="analytics">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
              <span class="btn-text">ANALYTICS</span>
            </button>
            <button class="btn btn-secondary" id="btn-system" data-tab="system">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v10"/><path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"/><path d="M1 12h6m6 0h10"/><path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"/></svg>
              <span class="btn-text">SYSTEM</span>
            </button>
          </div>

          <!-- Sign Out Button -->
          <div class="sidebar-footer">
            <button type="button" class="btn btn-secondary btn-logout" id="btn-logout">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="btn-icon"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>
              <span class="btn-text">SIGN OUT</span>
            </button>
          </div>
        </div>
      </aside>

      <!-- Content Area -->
      <div class="dashboard-content" id="dashboard-content">
        <div class="content-wrapper">
          <!-- Overview Tab (Default) -->
          <div class="tab-content active" id="tab-overview">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>Admin Dashboard</h2>
            </div>

            <!-- Lead Stats (Clickable) -->
            <div class="quick-stats">
              <button
                class="stat-card stat-card-clickable portal-shadow"
                data-tab="leads"
                type="button"
              >
                <span class="stat-number" id="stat-total-leads">-</span>
                <span class="stat-label">Total Leads</span>
              </button>
              <button
                class="stat-card stat-card-clickable portal-shadow"
                data-tab="leads"
                type="button"
              >
                <span class="stat-number" id="stat-pending-leads">-</span>
                <span class="stat-label">Pending</span>
              </button>
              <button
                class="stat-card stat-card-clickable portal-shadow"
                data-tab="analytics"
                type="button"
              >
                <span class="stat-number" id="stat-visitors">-</span>
                <span class="stat-label">Visitors Today</span>
              </button>
              <button
                class="stat-card stat-card-clickable portal-shadow"
                data-tab="messages"
                type="button"
              >
                <span class="stat-number" id="stat-messages">-</span>
                <span class="stat-label">Messages</span>
              </button>
            </div>

            <!-- Visitor Analytics Stats -->
            <div class="analytics-overview portal-shadow">
              <h3>Weekly Overview</h3>
              <div class="overview-stats-grid">
                <div class="overview-stat">
                  <span class="stat-number" id="total-visitors">-</span>
                  <span class="field-label">Total Visitors</span>
                  <span class="metric-change" id="visitors-change">-</span>
                </div>
                <div class="overview-stat">
                  <span class="stat-number" id="page-views">-</span>
                  <span class="field-label">Page Views</span>
                  <span class="metric-change" id="views-change">-</span>
                </div>
                <div class="overview-stat">
                  <span class="stat-number" id="avg-session">-</span>
                  <span class="field-label">Avg. Session</span>
                  <span class="metric-change" id="session-change">-</span>
                </div>
              </div>
            </div>

            <!-- Recent Leads -->
            <div class="recent-activity portal-shadow">
              <h3>Recent Leads</h3>
              <ul class="activity-list" id="recent-leads-list">
                <li>Loading...</li>
              </ul>
            </div>
          </div>

          <!-- Leads Tab -->
          <div class="tab-content" id="tab-leads">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>Leads Management</h2>
            </div>

            <!-- Leads Stats -->
            <div class="quick-stats">
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="all" data-table="leads">
                <span class="stat-number" id="leads-total">-</span>
                <span class="stat-label">Total Leads</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="pending" data-table="leads">
                <span class="stat-number" id="leads-pending">-</span>
                <span class="stat-label">Pending</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="in_progress" data-table="leads">
                <span class="stat-number" id="leads-active">-</span>
                <span class="stat-label">In Progress</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="completed" data-table="leads">
                <span class="stat-number" id="leads-completed">-</span>
                <span class="stat-label">Completed</span>
              </button>
            </div>

            <!-- Leads Table -->
            <div class="admin-table-card" id="intake-submissions-card">
              <div class="admin-table-header">
                <h3>Intake Submissions</h3>
                <button class="icon-btn" id="refresh-leads-btn" title="Refresh">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
                </button>
              </div>
              <div class="leads-table-container">
                <table class="leads-table">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Name</th>
                      <th>Company</th>
                      <th>Email</th>
                      <th>Type</th>
                      <th>Budget</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody id="leads-table-body">
                    <tr>
                      <td colspan="7" class="loading-row">Loading leads...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Contact Form Submissions Table -->
            <div class="admin-table-card" id="contact-submissions-card">
              <div class="admin-table-header">
                <h3>Contact Form Submissions</h3>
                <div class="admin-table-actions">
                  <span id="contact-new-count" class="status-badge status-new">0 new</span>
                  <button class="icon-btn" id="refresh-contacts-btn" title="Refresh">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
                  </button>
                </div>
              </div>
              <div class="contacts-table-container">
                <table class="contacts-table">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Name</th>
                      <th>Email</th>
                      <th>Company</th>
                      <th>Message</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody id="contacts-table-body">
                    <tr>
                      <td colspan="6" class="loading-row">Loading contact submissions...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

          </div>

          <!-- Projects Tab -->
          <div class="tab-content" id="tab-projects">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>Projects Management</h2>
            </div>

            <!-- Projects Stats -->
            <div class="quick-stats">
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="all" data-table="projects">
                <span class="stat-number" id="projects-total">-</span>
                <span class="stat-label">Total Projects</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="active" data-table="projects">
                <span class="stat-number" id="projects-active">-</span>
                <span class="stat-label">Active</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="completed" data-table="projects">
                <span class="stat-number" id="projects-completed">-</span>
                <span class="stat-label">Completed</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="on_hold" data-table="projects">
                <span class="stat-number" id="projects-on-hold">-</span>
                <span class="stat-label">On Hold</span>
              </button>
            </div>

            <!-- Projects Table -->
            <div class="admin-table-card" id="projects-card">
              <div class="admin-table-header">
                <h3>All Projects</h3>
                <div class="admin-table-actions">
                  <button class="icon-btn" id="refresh-projects-btn" title="Refresh">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
                  </button>
                </div>
              </div>
              <div class="projects-table-container">
                <table class="projects-table">
                  <thead>
                    <tr>
                      <th>Project Name</th>
                      <th>Client</th>
                      <th>Type</th>
                      <th>Budget</th>
                      <th>Timeline</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody id="projects-table-body">
                    <tr>
                      <td colspan="6" class="loading-row">Loading projects...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Clients Tab -->
          <div class="tab-content" id="tab-clients">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>Clients Management</h2>
            </div>

            <!-- Clients Stats -->
            <div class="quick-stats">
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="all" data-table="clients">
                <span class="stat-number" id="clients-total">-</span>
                <span class="stat-label">Total Clients</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="active" data-table="clients">
                <span class="stat-number" id="clients-active">-</span>
                <span class="stat-label">Active</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="pending" data-table="clients">
                <span class="stat-number" id="clients-pending">-</span>
                <span class="stat-label">Pending</span>
              </button>
              <button class="stat-card stat-card-clickable portal-shadow" data-filter="inactive" data-table="clients">
                <span class="stat-number" id="clients-inactive">-</span>
                <span class="stat-label">Inactive</span>
              </button>
            </div>

            <!-- Clients Table -->
            <div class="admin-table-card" id="clients-table-card">
              <div class="admin-table-header">
                <h3>Client Accounts</h3>
                <div class="admin-table-actions">
                  <button class="icon-btn" id="add-client-btn" title="Add Client">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
                  </button>
                  <button class="icon-btn" id="refresh-clients-btn" title="Refresh">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
                  </button>
                </div>
              </div>
              <div class="clients-table-container">
                <table class="clients-table">
                  <thead>
                    <tr>
                      <th>Client</th>
                      <th>Type</th>
                      <th>Email</th>
                      <th>Status</th>
                      <th>Projects</th>
                      <th>Created</th>
                    </tr>
                  </thead>
                  <tbody id="clients-table-body">
                    <tr>
                      <td colspan="6" class="loading-row">Loading clients...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Client Detail View -->
          <div class="tab-content" id="tab-client-detail">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2 id="client-detail-title">Client Details</h2>
            </div>

            <!-- Client Overview Card -->
            <div class="project-detail-overview portal-shadow">
              <div class="overview-header">
                <h3 id="cd-client-name">Client Name</h3>
                <button class="icon-btn" id="cd-btn-edit-info" title="Edit Client Info">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                </button>
              </div>
              <div class="project-detail-client-row">
                <div class="meta-item">
                  <span class="field-label">Email</span>
                  <span class="meta-value" id="cd-email">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Company</span>
                  <span class="meta-value" id="cd-company">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Phone</span>
                  <span class="meta-value" id="cd-phone">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Status</span>
                  <span class="meta-value" id="cd-status">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Type</span>
                  <span class="meta-value" id="cd-client-type">-</span>
                </div>
              </div>
              <div class="project-detail-meta">
                <div class="meta-item">
                  <span class="field-label">Account Created</span>
                  <span class="meta-value" id="cd-created">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Last Login</span>
                  <span class="meta-value" id="cd-last-login">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Total Projects</span>
                  <span class="meta-value" id="cd-project-count">0</span>
                </div>
              </div>
            </div>

            <!-- Client Projects -->
            <div class="portal-project-card portal-shadow">
              <h3>Client Projects</h3>
              <div class="client-projects-list" id="cd-projects-list">
                <p class="empty-state">No projects found for this client.</p>
              </div>
            </div>

            <!-- Billing Details -->
            <div class="portal-project-card portal-shadow">
              <div class="card-header-with-action">
                <h3>Billing Details</h3>
                <button class="icon-btn" id="cd-btn-edit-billing" title="Edit Billing Details">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                </button>
              </div>
              <div class="billing-info-grid">
                <div class="meta-item">
                  <span class="field-label">Billing Name</span>
                  <span class="meta-value" id="cd-billing-name">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Billing Email</span>
                  <span class="meta-value" id="cd-billing-email">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Address</span>
                  <span class="meta-value" id="cd-billing-address">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">City</span>
                  <span class="meta-value" id="cd-billing-city">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">State/Province</span>
                  <span class="meta-value" id="cd-billing-state">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">ZIP/Postal Code</span>
                  <span class="meta-value" id="cd-billing-zip">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Country</span>
                  <span class="meta-value" id="cd-billing-country">-</span>
                </div>
              </div>
            </div>

            <!-- Invoices -->
            <div class="portal-project-card portal-shadow">
              <h3>Invoices</h3>
              <div class="billing-summary">
                <div class="meta-item">
                  <span class="field-label">Total Invoiced</span>
                  <span class="meta-value" id="cd-total-invoiced">$0.00</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Total Paid</span>
                  <span class="meta-value" id="cd-total-paid">$0.00</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Outstanding</span>
                  <span class="meta-value" id="cd-outstanding">$0.00</span>
                </div>
              </div>
              <div class="client-invoices-list" id="cd-invoices-list">
                <p class="empty-state">No invoices found for this client.</p>
              </div>
            </div>

            <!-- Account Actions -->
            <div class="portal-project-card portal-shadow">
              <h3>Account Actions</h3>
              <div class="client-account-actions">
                <button type="button" class="btn btn-secondary" id="cd-btn-reset-password">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                  Reset Password
                </button>
                <button type="button" class="btn btn-secondary" id="cd-btn-resend-invite">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 2 11 13"/><path d="m22 2-7 20-4-9-9-4 20-7z"/></svg>
                  Resend Invitation
                </button>
                <button type="button" class="btn btn-danger" id="cd-btn-delete">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
                  Delete Client
                </button>
              </div>
            </div>
          </div>

          <!-- Messages Tab -->
          <div class="tab-content" id="tab-messages">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>Client Messages</h2>
            </div>

            <!-- Client Selector (Custom Dropdown) -->
            <div class="client-selector-wrapper">
              <div class="custom-dropdown" id="admin-client-dropdown">
                <button type="button" class="custom-dropdown-trigger" id="admin-client-trigger">
                  <span class="custom-dropdown-text">-- Select a client --</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="custom-dropdown-caret"><path d="m6 9 6 6 6-6"/></svg>
                </button>
                <ul class="custom-dropdown-menu" id="admin-client-menu">
                </ul>
                <input type="hidden" id="admin-client-select" value="" />
              </div>
            </div>

            <!-- Messages Container (like client portal) -->
            <div class="messages-container portal-shadow">
              <div class="messages-thread" id="admin-messages-thread">
                <p class="empty-state">Select a client to view messages</p>
              </div>

              <!-- Compose Message -->
              <div class="message-compose" id="admin-compose-area">
                <div class="message-input-wrapper">
                  <textarea
                    id="admin-message-text"
                    class="form-textarea"
                    placeholder="Select a client to send messages..."
                    disabled
                  ></textarea>
                </div>
                <button class="btn btn-secondary" id="admin-send-message" disabled>Send Message</button>
              </div>
            </div>
          </div>

          <!-- Analytics Tab -->
          <div class="tab-content" id="tab-analytics">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>Analytics</h2>
            </div>

            <div class="quick-stats">
              <div class="stat-card portal-shadow">
                <span class="stat-number" id="analytics-visitors">-</span>
                <span class="field-label">Total Visitors</span>
              </div>
              <div class="stat-card portal-shadow">
                <span class="stat-number" id="analytics-pageviews">-</span>
                <span class="field-label">Page Views</span>
              </div>
              <div class="stat-card portal-shadow">
                <span class="stat-number" id="analytics-sessions">-</span>
                <span class="field-label">Avg. Session</span>
              </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-grid">
              <div class="chart-container portal-shadow">
                <h3>Visitors Over Time</h3>
                <div class="chart">
                  <canvas id="visitors-chart"></canvas>
                </div>
              </div>
              <div class="chart-container portal-shadow">
                <h3>Traffic Sources</h3>
                <div class="chart">
                  <canvas id="sources-chart"></canvas>
                </div>
              </div>
            </div>

            <!-- Analytics Data Grid -->
            <div class="analytics-grid">
              <div class="analytics-section portal-shadow">
                <h3>Popular Pages</h3>
                <div class="data-list" id="popular-pages">
                  <div class="data-item"><span class="data-label">Loading...</span></div>
                </div>
              </div>
              <div class="analytics-section portal-shadow">
                <h3>Device Breakdown</h3>
                <div class="data-list" id="device-breakdown">
                  <div class="data-item"><span class="data-label">Loading...</span></div>
                </div>
              </div>
              <div class="analytics-section portal-shadow">
                <h3>Geographic Distribution</h3>
                <div class="data-list" id="geo-distribution">
                  <div class="data-item"><span class="data-label">Loading...</span></div>
                </div>
              </div>
              <div class="analytics-section portal-shadow">
                <h3>Engagement Events</h3>
                <div class="data-list" id="engagement-events">
                  <div class="data-item"><span class="data-label">Loading...</span></div>
                </div>
              </div>
            </div>

            <!-- Performance Metrics -->
            <div class="metric-group portal-shadow">
              <h3>Core Web Vitals</h3>
              <div class="vitals-grid">
                <div class="vital-card">
                  <h4>LCP <span class="info-icon-wrapper" data-tooltip="Largest Contentful Paint - Time until the largest visible element loads.&#10;&#10;Good: <2.5s&#10;Needs Improvement: 2.5-4s&#10;Poor: >4s"><svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></span></h4>
                  <div class="vital-value" id="lcp-value">-</div>
                  <span class="vital-status" id="lcp-status">-</span>
                </div>
                <div class="vital-card">
                  <h4>FID <span class="info-icon-wrapper" data-tooltip="First Input Delay - Time from first interaction to browser response.&#10;&#10;Good: <100ms&#10;Needs Improvement: 100-300ms&#10;Poor: >300ms"><svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></span></h4>
                  <div class="vital-value" id="fid-value">-</div>
                  <span class="vital-status" id="fid-status">-</span>
                </div>
                <div class="vital-card">
                  <h4>CLS <span class="info-icon-wrapper" data-tooltip="Cumulative Layout Shift - Visual stability score measuring unexpected layout shifts.&#10;&#10;Good: <0.1&#10;Needs Improvement: 0.1-0.25&#10;Poor: >0.25"><svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></span></h4>
                  <div class="vital-value" id="cls-value">-</div>
                  <span class="vital-status" id="cls-status">-</span>
                </div>
                <div class="vital-card">
                  <h4>TTFB <span class="info-icon-wrapper" data-tooltip="Time to First Byte - Server response time.&#10;&#10;Good: <800ms&#10;Needs Improvement: 800-1800ms&#10;Poor: >1800ms"><svg class="info-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></span></h4>
                  <div class="vital-value" id="ttfb-value">-</div>
                  <span class="vital-status" id="ttfb-status">-</span>
                </div>
              </div>
            </div>

            <!-- Bundle Analysis -->
            <div class="metric-group portal-shadow">
              <h3>Bundle Analysis</h3>
              <div class="bundle-info">
                <div class="bundle-item">
                  <span>Total Bundle Size</span>
                  <span id="total-bundle-size">-</span>
                </div>
                <div class="bundle-item">
                  <span>Main JS</span>
                  <span id="js-bundle-size">-</span>
                </div>
                <div class="bundle-item">
                  <span>Vendor JS</span>
                  <span id="css-bundle-size">-</span>
                </div>
                <div class="bundle-item">
                  <span>Performance Score</span>
                  <span id="performance-score">-</span>
                </div>
              </div>
            </div>

            <!-- Visitors Table -->
            <div class="visitors-dashboard">
              <div class="visitors-table-container portal-shadow">
                <table class="visitors-table">
                  <thead>
                    <tr>
                      <th>Session ID</th>
                      <th>Started</th>
                      <th>Duration</th>
                      <th>Pages</th>
                      <th>Device</th>
                      <th>Location</th>
                    </tr>
                  </thead>
                  <tbody id="visitors-table-body">
                    <tr>
                      <td colspan="6" class="loading-row">Loading visitor data...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- System Tab -->
          <div class="tab-content" id="tab-system">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2>System Information</h2>
            </div>

            <!-- Module Status -->
            <div class="portal-project-card portal-shadow">
              <h3>Module Status</h3>
              <div class="status-list" id="modules-status">
                <p class="loading-text">Loading module status...</p>
              </div>
            </div>

            <!-- Service Status -->
            <div class="portal-project-card portal-shadow">
              <h3>Service Status</h3>
              <div class="status-list" id="services-status">
                <p class="loading-text">Loading service status...</p>
              </div>
            </div>

            <div class="portal-project-card portal-shadow">
              <h3>Build Information</h3>
              <div class="system-info-grid">
                <div class="system-info-row">
                  <span>Version</span>
                  <span id="sys-version">10.0.0</span>
                </div>
                <div class="system-info-row">
                  <span>Environment</span>
                  <span id="sys-environment">development</span>
                </div>
                <div class="system-info-row">
                  <span>Build Date</span>
                  <span id="sys-build-date">-</span>
                </div>
              </div>
            </div>

            <div class="portal-project-card portal-shadow">
              <h3>Browser Information</h3>
              <div class="system-info-grid">
                <div class="system-info-row">
                  <span>User Agent</span>
                  <span id="sys-useragent" class="truncate-text">-</span>
                </div>
                <div class="system-info-row">
                  <span>Screen Resolution</span>
                  <span id="sys-screen">-</span>
                </div>
                <div class="system-info-row">
                  <span>Viewport Size</span>
                  <span id="sys-viewport">-</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Project Detail View (mirrors client portal view) -->
          <div class="tab-content" id="tab-project-detail">
            <div class="page-header">
              <button class="header-sidebar-toggle" aria-label="Toggle sidebar">&#9664;</button>
              <h2 id="project-detail-title">Project Details</h2>
              <span class="status-badge" id="pd-status">-</span>
            </div>

            <!-- Project Overview Card -->
            <div class="project-detail-overview portal-shadow">
              <div class="overview-header">
                <h3 id="pd-project-name">Project Name</h3>
                <button class="icon-btn" id="btn-edit-project" title="Edit Project">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                </button>
              </div>
              <div class="project-detail-client-row">
                <div class="meta-item clickable-client" id="pd-client-link">
                  <span class="field-label">Client</span>
                  <span class="meta-value" id="pd-client-name">-</span>
                </div>
                <div class="meta-item clickable-client" id="pd-company-link">
                  <span class="field-label">Company</span>
                  <span class="meta-value" id="pd-company">-</span>
                </div>
                <div class="meta-item clickable-client" id="pd-email-link">
                  <span class="field-label">Email</span>
                  <span class="meta-value" id="pd-client-email">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Started</span>
                  <span class="meta-value" id="pd-start-date">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Target End</span>
                  <span class="meta-value" id="pd-end-date">-</span>
                </div>
              </div>
              <div class="project-detail-meta">
                <div class="meta-item">
                  <span class="field-label">Project Type</span>
                  <span class="meta-value" id="pd-type">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Budget</span>
                  <span class="meta-value" id="pd-budget">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Price</span>
                  <span class="meta-value" id="pd-price">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Timeline</span>
                  <span class="meta-value" id="pd-timeline">-</span>
                </div>
              </div>
              <div class="project-description-row" id="pd-notes">
                <div class="meta-item description-item">
                  <span class="field-label">Project Description</span>
                  <span class="meta-value" id="pd-description">-</span>
                </div>
                <div class="meta-item preview-url-item">
                  <span class="field-label">Preview URL</span>
                  <span class="meta-value"><a href="#" id="pd-preview-url-link" target="_blank">-</a></span>
                </div>
              </div>
              <div class="project-detail-meta project-urls-row" id="pd-urls-section" style="display: none;">
                <div class="meta-item">
                  <span class="field-label">Repository</span>
                  <span class="meta-value"><a href="#" id="pd-repo-url-link" target="_blank">-</a></span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Production</span>
                  <span class="meta-value"><a href="#" id="pd-production-url-link" target="_blank">-</a></span>
                </div>
              </div>
              <div class="project-detail-meta project-financial-row" id="pd-financial-section" style="display: none;">
                <div class="meta-item">
                  <span class="field-label">Deposit</span>
                  <span class="meta-value" id="pd-deposit">-</span>
                </div>
                <div class="meta-item">
                  <span class="field-label">Contract Signed</span>
                  <span class="meta-value" id="pd-contract-date">-</span>
                </div>
              </div>
              <div class="project-description-row" id="pd-admin-notes-section" style="display: none;">
                <div class="meta-item description-item">
                  <span class="field-label">Admin Notes (Internal)</span>
                  <span class="meta-value" id="pd-admin-notes">-</span>
                </div>
              </div>
            </div>

            <!-- Project Detail Tabs -->
            <div class="project-detail-tabs">
              <button class="pd-tab-btn active" data-pd-tab="overview">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tab-icon"><path d="m12 14 4-4"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/></svg>
                <span>Overview</span>
              </button>
              <button class="pd-tab-btn" data-pd-tab="files">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tab-icon"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>
                <span>Files</span>
              </button>
              <button class="pd-tab-btn" data-pd-tab="messages">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tab-icon"><path d="M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/><path d="M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1"/></svg>
                <span>Messages</span>
              </button>
              <button class="pd-tab-btn" data-pd-tab="invoices">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tab-icon"><path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"/><path d="M14 2v5a1 1 0 0 0 1 1h5"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
                <span>Invoices</span>
              </button>
            </div>

            <!-- Overview Sub-Tab -->
            <div class="pd-tab-content active" id="pd-tab-overview">
              <!-- Progress Section -->
              <div class="portal-project-card portal-shadow">
                <h3>Project Progress</h3>
                <div class="project-progress-display">
                  <div class="progress-percentage" id="pd-progress-percent">0%</div>
                  <div class="progress-bar">
                    <div class="progress-fill" id="pd-progress-bar" style="width: 0%"></div>
                  </div>
                </div>
              </div>

              <!-- Milestones Section -->
              <div class="portal-project-card portal-shadow">
                <div class="card-header-with-action">
                  <h3>Milestones</h3>
                  <button class="btn btn-secondary btn-sm" id="btn-add-milestone">
                    + Add Milestone
                  </button>
                </div>
                <div class="milestones-list" id="pd-milestones-list">
                  <p class="empty-state">
                    No milestones yet. Add milestones to track project progress.
                  </p>
                </div>
              </div>

              <!-- Recent Activity -->
              <div class="recent-activity portal-shadow">
                <h3>Recent Activity</h3>
                <ul class="activity-list" id="pd-activity-list">
                  <li>No activity recorded yet.</li>
                </ul>
              </div>
            </div>

            <!-- Files Sub-Tab -->
            <div class="pd-tab-content" id="pd-tab-files">
              <!-- Upload Section -->
              <div class="files-upload-section portal-shadow">
                <h3>Upload Files for Client</h3>
                <div class="upload-dropzone" id="pd-upload-dropzone">
                  <p>Drag and drop files here or</p>
                  <button class="btn btn-secondary" id="btn-pd-browse-files">Browse Files</button>
                  <input type="file" id="pd-file-input" multiple hidden />
                </div>
              </div>

              <!-- Files List -->
              <div class="files-list-section portal-shadow">
                <h3>Project Files</h3>
                <div class="files-list" id="pd-files-list">
                  <p class="empty-state">No files uploaded yet.</p>
                </div>
              </div>
            </div>

            <!-- Messages Sub-Tab -->
            <div class="pd-tab-content" id="pd-tab-messages">
              <div class="messages-container portal-shadow">
                <div class="messages-thread" id="pd-messages-thread">
                  <p class="empty-state">
                    No messages yet. Start the conversation with your client.
                  </p>
                </div>

                <div class="message-compose">
                  <div class="message-input-wrapper">
                    <textarea
                      id="pd-message-input"
                      class="form-textarea"
                      placeholder="Type your message to the client..."
                    ></textarea>
                  </div>
                  <button class="btn btn-secondary" id="btn-pd-send-message">Send Message</button>
                </div>
              </div>
            </div>

            <!-- Invoices Sub-Tab -->
            <div class="pd-tab-content" id="pd-tab-invoices">
              <!-- Invoice Summary -->
              <div class="invoice-summary">
                <div class="summary-card portal-shadow">
                  <span class="summary-label">Total Outstanding</span>
                  <span class="summary-value" id="pd-outstanding">$0.00</span>
                </div>
                <div class="summary-card portal-shadow">
                  <span class="summary-label">Total Paid</span>
                  <span class="summary-value" id="pd-paid">$0.00</span>
                </div>
              </div>

              <!-- Create Invoice Button -->
              <div class="portal-project-card portal-shadow">
                <div class="card-header-with-action">
                  <h3>Invoices</h3>
                  <button class="btn btn-secondary" id="btn-create-invoice">
                    + Create Invoice
                  </button>
                </div>
                <div class="invoices-list" id="pd-invoices-list">
                  <p class="empty-state">No invoices created yet.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Details Overlay (darkens page when panel is open) -->
    <div class="details-overlay hidden" id="details-overlay" onclick="window.closeDetailsPanel && window.closeDetailsPanel()"></div>

    <!-- Lead Details Panel (Hidden by default) -->
    <div class="details-panel hidden" id="lead-details-panel"></div>

    <!-- Contact Details Panel (Hidden by default) -->
    <div class="details-panel hidden" id="contact-details-panel"></div>

    <!-- Detail Modal for Leads/Contacts -->
    <div class="admin-modal-overlay hidden" id="detail-modal">
      <div class="admin-modal">
        <div class="admin-modal-header">
          <h3 id="modal-title">Details</h3>
          <button class="admin-modal-close" id="modal-close-btn" aria-label="Close modal">
            &times;
          </button>
        </div>
        <div class="admin-modal-body" id="modal-body">
          <!-- Dynamic content will be inserted here -->
        </div>
        <div class="admin-modal-footer">
          <button class="btn btn-secondary" id="modal-close-btn-footer">Close</button>
        </div>
      </div>
    </div>

    <!-- Add Client Modal -->
    <div class="admin-modal-overlay hidden" id="add-client-modal">
      <div class="admin-modal">
        <div class="admin-modal-header">
          <h3>Add New Client</h3>
          <button class="admin-modal-close" id="add-client-modal-close" aria-label="Close modal">
            &times;
          </button>
        </div>
        <form id="add-client-form">
          <div class="admin-modal-body">
            <div class="form-group">
              <label class="field-label" for="new-client-email">Email *</label>
              <input type="email" id="new-client-email" class="form-input" placeholder="client@example.com" required />
            </div>
            <div class="form-group">
              <label class="field-label" for="new-client-name">Contact Name</label>
              <input type="text" id="new-client-name" class="form-input" placeholder="John Smith" />
            </div>
            <div class="form-group">
              <label class="field-label" for="new-client-company">Company Name</label>
              <input type="text" id="new-client-company" class="form-input" placeholder="Acme Inc." />
            </div>
            <div class="form-group">
              <label class="field-label" for="new-client-phone">Phone</label>
              <input type="tel" id="new-client-phone" class="form-input" placeholder="(555) 123-4567" />
            </div>
          </div>
          <div class="admin-modal-footer">
            <button type="button" class="btn btn-secondary" id="add-client-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Add Client</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Client Info Modal -->
    <div class="admin-modal-overlay hidden" id="edit-client-info-modal">
      <div class="admin-modal">
        <div class="admin-modal-header">
          <h3>Edit Client Info</h3>
          <button class="admin-modal-close" id="edit-client-info-close" aria-label="Close modal">
            &times;
          </button>
        </div>
        <form id="edit-client-info-form">
          <div class="admin-modal-body">
            <div class="form-group">
              <label class="field-label" for="edit-client-email">Email</label>
              <input type="email" id="edit-client-email" class="form-input" placeholder="client@example.com" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-client-name">Contact Name</label>
              <input type="text" id="edit-client-name" class="form-input" placeholder="John Smith" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-client-company">Company Name</label>
              <input type="text" id="edit-client-company" class="form-input" placeholder="Acme Inc." />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-client-phone">Phone</label>
              <input type="tel" id="edit-client-phone" class="form-input" placeholder="(555) 123-4567" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-client-status">Status</label>
              <select id="edit-client-status" class="form-input">
                <option value="active">Active</option>
                <option value="pending">Pending</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
          </div>
          <div class="admin-modal-footer">
            <button type="button" class="btn btn-secondary" id="edit-client-info-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Billing Details Modal -->
    <div class="admin-modal-overlay hidden" id="edit-billing-modal">
      <div class="admin-modal">
        <div class="admin-modal-header">
          <h3>Edit Billing Details</h3>
          <button class="admin-modal-close" id="edit-billing-close" aria-label="Close modal">
            &times;
          </button>
        </div>
        <form id="edit-billing-form">
          <div class="admin-modal-body">
            <div class="form-group">
              <label class="field-label" for="edit-billing-name">Billing Name</label>
              <input type="text" id="edit-billing-name" class="form-input" placeholder="John Smith" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-billing-email">Billing Email</label>
              <input type="email" id="edit-billing-email" class="form-input" placeholder="billing@example.com" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-billing-address">Address</label>
              <input type="text" id="edit-billing-address" class="form-input" placeholder="123 Main St" />
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="field-label" for="edit-billing-city">City</label>
                <input type="text" id="edit-billing-city" class="form-input" placeholder="New York" />
              </div>
              <div class="form-group">
                <label class="field-label" for="edit-billing-state">State/Province</label>
                <input type="text" id="edit-billing-state" class="form-input" placeholder="NY" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="field-label" for="edit-billing-zip">ZIP/Postal Code</label>
                <input type="text" id="edit-billing-zip" class="form-input" placeholder="10001" />
              </div>
              <div class="form-group">
                <label class="field-label" for="edit-billing-country">Country</label>
                <input type="text" id="edit-billing-country" class="form-input" placeholder="USA" />
              </div>
            </div>
          </div>
          <div class="admin-modal-footer">
            <button type="button" class="btn btn-secondary" id="edit-billing-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Project Modal -->
    <div class="admin-modal-overlay hidden" id="edit-project-modal">
      <div class="admin-modal">
        <div class="admin-modal-header">
          <h3>Edit Project</h3>
          <button class="admin-modal-close" id="edit-project-close" aria-label="Close modal">
            &times;
          </button>
        </div>
        <form id="edit-project-form">
          <div class="admin-modal-body">
            <div class="form-group">
              <label class="field-label" for="edit-project-name">Project Name</label>
              <input type="text" id="edit-project-name" class="form-input" placeholder="Project Name" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-type">Project Type</label>
              <select id="edit-project-type" class="form-input">
                <option value="">Select type...</option>
                <option value="website">Website</option>
                <option value="web-app">Web Application</option>
                <option value="mobile-app">Mobile App</option>
                <option value="e-commerce">E-Commerce</option>
                <option value="branding">Branding</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="field-label" for="edit-project-budget">Budget</label>
                <input type="text" id="edit-project-budget" class="form-input" placeholder="$5,000 - $10,000" />
              </div>
              <div class="form-group">
                <label class="field-label" for="edit-project-price">Price</label>
                <input type="text" id="edit-project-price" class="form-input" placeholder="$7,500" />
              </div>
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-timeline">Timeline</label>
              <input type="text" id="edit-project-timeline" class="form-input" placeholder="4-6 weeks" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-preview-url">Preview URL</label>
              <input type="url" id="edit-project-preview-url" class="form-input" placeholder="https://preview.example.com" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-status">Status</label>
              <select id="edit-project-status" class="form-input">
                <option value="pending">Pending</option>
                <option value="active">Active</option>
                <option value="in_progress">In Progress</option>
                <option value="on_hold">On Hold</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
              </select>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="field-label" for="edit-project-start-date">Start Date</label>
                <input type="date" id="edit-project-start-date" class="form-input" />
              </div>
              <div class="form-group">
                <label class="field-label" for="edit-project-end-date">Target End Date</label>
                <input type="date" id="edit-project-end-date" class="form-input" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="field-label" for="edit-project-deposit">Deposit Amount</label>
                <input type="text" id="edit-project-deposit" class="form-input" placeholder="$1,000" />
              </div>
              <div class="form-group">
                <label class="field-label" for="edit-project-contract-date">Contract Signed</label>
                <input type="date" id="edit-project-contract-date" class="form-input" />
              </div>
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-repo-url">Repository URL</label>
              <input type="url" id="edit-project-repo-url" class="form-input" placeholder="https://github.com/..." />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-production-url">Production URL</label>
              <input type="url" id="edit-project-production-url" class="form-input" placeholder="https://example.com" />
            </div>
            <div class="form-group">
              <label class="field-label" for="edit-project-notes">Admin Notes (internal)</label>
              <textarea id="edit-project-notes" class="form-input" rows="3" placeholder="Internal notes not visible to client..."></textarea>
            </div>
          </div>
          <div class="admin-modal-footer">
            <button type="button" class="btn btn-secondary" id="edit-project-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
