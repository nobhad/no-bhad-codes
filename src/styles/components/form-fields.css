/**
 * ===============================================
 * FORM FIELDS
 * ===============================================
 * @file src/styles/components/form-fields.css
 *
 * Form field styling including inputs, textareas,
 * selects, containers, labels, and layout.
 */

/* ============================================
 * FORM FIELD STYLING
 * ============================================ */

/* Honeypot field for bot detection */
input[name="bot-field"] {
  display: none !important;
}

/* Radio button custom styling */
input[type="radio"] {
  opacity: 0 !important;
  position: absolute !important;
  z-index: -1 !important;
}

/* Universal form field styling - EXCLUDE contact form */
.form-input,
.form-textarea,
.form-select,
.form-container input[type="text"],
.form-container input[type="email"],
.form-container input[type="password"],
.form-container input[type="tel"],
.login-form input[type="text"],
.login-form input[type="email"],
.login-form input[type="password"],
.login-form input[type="tel"],
.form-container textarea,
.login-form textarea,
.form-container select,
.login-form select {
  width: 100%;
  padding: clamp(6px, 1.5vw, 12px) clamp(8px, 2vw, 14px);
  border: 2px solid var(--form-input-border);
  border-radius: clamp(6px, 1.5vw, 12px);
  font-size: clamp(0.75rem, 2vw, 1rem);
  background-color: var(--color-black);
  color: var(--portal-text-light);
  font-family: inherit;
  box-sizing: border-box;
  transition: all var(--transition-fast);
  min-height: clamp(32px, 8vw, 44px);
  height: auto;
}

/* Placeholder text - not bold */
.form-input::placeholder,
.form-textarea::placeholder,
.form-container input::placeholder,
.login-form input::placeholder,
.form-container textarea::placeholder,
.login-form textarea::placeholder {
  font-weight: normal;
  color: var(--portal-text-muted);
  opacity: 1;
}

.form-container textarea,
.login-form textarea {
  height: auto;
  min-height: clamp(60px, 15vw, 100px);
  resize: vertical;
}

/* ============================================
 * SELECT DROPDOWN STYLING
 * ============================================ */

/* Standardized select dropdown component */
.form-select,
select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding-right: 2.5rem;
  /* Arrow color uses --color-dark which is theme-aware */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 12px;
  cursor: pointer;
}

/* Dark theme and portal select dropdown arrow - light color */
[data-theme="dark"] .form-select,
[data-theme="dark"] select,
[data-page="client-portal"] .form-select,
[data-page="client-portal"] select,
[data-page="admin"] .form-select,
[data-page="admin"] select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23f5f5f5' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
}

/* Remove default arrow in IE */
.form-select::-ms-expand,
select::-ms-expand {
  display: none;
}

/* Form field focus states - Green border (exclude submit buttons and contact form) */
.form-input:focus,
.form-textarea:focus,
.form-select:focus,
.form-container input:not([type="submit"]):focus,
.login-form input:not([type="submit"]):focus,
.form-container textarea:focus,
.login-form textarea:focus,
.form-container select:focus,
.login-form select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-brand-primary-rgb), 0.25);
}

/* Form field focus indicators for keyboard navigation */
.form-input:focus-visible,
.form-textarea:focus-visible,
.form-select:focus-visible,
.form-container input:not([type="submit"]):focus-visible,
.login-form input:not([type="submit"]):focus-visible,
.form-container textarea:focus-visible,
.login-form textarea:focus-visible,
.form-container select:focus-visible,
.login-form select:focus-visible {
  outline: 2px solid var(--color-primary, var(--color-brand-primary));
  outline-offset: 2px;
  border-color: var(--color-primary);
}

/* ============================================
 * FORM CONTAINER SYSTEM
 * ============================================ */

/* Form container styling - EXCLUDE .contact-form (has custom styling in pages/contact.css) */
.form-container,
.login-form {
  background: var(--color-neutral-300);
  padding: clamp(8px, 2.5vw, 20px);
  border-radius: 0;
  border: 4px solid var(--color-border);
  box-shadow: 0 4px 8px var(--color-shadow);
  max-width: min(600px, 95vw);
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 2vw, 16px);
}

/* Form group spacing */
.form-group,
.form-row {
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: clamp(4px, 1vw, 8px);
}

/* ============================================
 * FORM LABELS AND TEXT
 * ============================================ */

/**
 * Field Label - Reusable label component
 * Uses CSS custom properties for customization:
 * - --label-font-size: Font size (default: 0.75rem)
 * - --label-color: Text color (default: --portal-text-secondary)
 * - --label-text-transform: Transform (default: uppercase)
 * - --label-letter-spacing: Spacing (default: 0.05em)
 * - --label-font-weight: Weight (default: 500)
 *
 * Usage: <span class="field-label">Status</span>
 */
.field-label {
  display: block;
  font-size: var(--label-font-size, 0.75rem);
  color: var(--label-color, var(--portal-text-secondary));
  text-transform: var(--label-text-transform, uppercase);
  letter-spacing: var(--label-letter-spacing, 0.05em);
  font-weight: var(--label-font-weight, 500);
  margin-bottom: var(--label-margin-bottom, 0.5rem);
}

/* Dark theme field labels */
[data-theme="dark"] .field-label,
[data-page="client-portal"] .field-label,
[data-page="admin"] .field-label {
  color: var(--label-color, var(--portal-text-secondary));
}

/* Light theme field labels */
[data-theme="light"] .field-label {
  color: var(--label-color, var(--color-text-secondary));
}

/* Field label variants */
.field-label--lg {
  --label-font-size: 0.875rem;
}

.field-label--sm {
  --label-font-size: 0.65rem;
}

.field-label--normal-case {
  --label-text-transform: none;
}

.field-label--primary {
  --label-color: var(--color-primary);
}

/* Form labels */
.form-group label,
label {
  display: block;
  margin-bottom: 0;
  font-weight: 600;
  color: var(--color-dark);
  font-size: clamp(0.875rem, 2.5vw, 1rem);
}

/* Form intro text */
.form-intro {
  margin: 0;
  color: var(--color-text-primary);
  font-size: clamp(0.875rem, 2vw, 1rem);
  line-height: 1.4;
  text-align: center;
}

/* ============================================
 * FORM FOOTER ELEMENTS
 * ============================================ */

/* Form footer styling */
.login-footer,
.form-footer {
  margin-top: clamp(8px, 2vw, 16px);
  padding-top: clamp(8px, 2vw, 16px);
  border-top: 1px solid var(--color-dark);
  text-align: center;
}

.login-footer p,
.form-footer p {
  margin: clamp(4px, 1vw, 8px) 0;
  color: var(--color-text-primary);
  font-size: 0.9rem;
}

/* ============================================
 * RESPONSIVE FORM FIELDS
 * ============================================ */

@media (--mobile) {
  .form-container,
  .login-form {
    max-width: 95vw;
    padding: clamp(6px, 2vw, 16px);
    gap: clamp(6px, 1.5vw, 12px);
  }

  .form-input,
  .form-textarea,
  .form-select,
  .form-container input,
  .login-form input,
  .form-container textarea,
  .login-form textarea,
  .form-container select,
  .login-form select {
    font-size: clamp(0.7rem, 2.5vw, 0.9rem);
    min-height: clamp(28px, 7vw, 40px);
    height: auto;
  }

  .form-container textarea,
  .login-form textarea {
    min-height: clamp(50px, 12vw, 80px);
  }
}

@media (--small-mobile) {
  .form-container,
  .login-form {
    max-width: 98vw;
    padding: clamp(4px, 1.5vw, 12px);
  }
}

/* ============================================
 * ACCESSIBILITY - FORM FIELDS
 * ============================================ */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .form-input,
  .form-textarea,
  .form-select,
  .form-container input,
  .login-form input,
  .form-container textarea,
  .login-form textarea,
  .form-container select,
  .login-form select {
    border-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .form-input,
  .form-textarea,
  .form-select,
  .form-container input,
  .login-form input,
  .form-container textarea,
  .login-form textarea,
  .form-container select,
  .login-form select {
    transition: none;
  }
}
