/**
 * ===============================================
 * FORM COMPONENT SYSTEM
 * ===============================================
 * @file src/styles/components/form.css
 * 
 * Consolidated form styling system with consistent
 * visual design and responsive behavior.
 * 
 * Features:
 * - Universal form field styling
 * - Form container layouts
 * - Button system integration
 * - Validation state styling
 * - Responsive form behaviors
 * - Accessibility support
 */

/* ============================================
 * FORM FIELD STYLING
 * ============================================ */

/* Honeypot field for bot detection */
input[name="bot-field"] {
  display: none !important;
}

/* Radio button custom styling */
input[type="radio"] {
  opacity: 0 !important;
  position: absolute !important;
  z-index: -1 !important;
}

/* Universal form field styling - EXCLUDE contact form */
.form-input,
.form-textarea,
.form-select,
.form-container input[type="text"],
.form-container input[type="email"],
.form-container input[type="password"],
.form-container input[type="tel"],
.login-form input[type="text"],
.login-form input[type="email"],
.login-form input[type="password"],
.login-form input[type="tel"],
.form-container textarea,
.login-form textarea,
.form-container select,
.login-form select {
  width: 100%;
  padding: clamp(6px, 1.5vw, 12px) clamp(8px, 2vw, 14px);
  border: 2px solid var(--form-input-border);
  border-radius: clamp(6px, 1.5vw, 12px);
  font-size: clamp(0.75rem, 2vw, 1rem);
  background-color: var(--color-neutral-100);
  color: var(--fg);
  font-family: inherit;
  box-sizing: border-box;
  transition: all 0.2s ease;
  min-height: clamp(32px, 8vw, 44px);
  height: auto;
}

.form-container textarea,
.login-form textarea {
  height: auto;
  min-height: clamp(60px, 15vw, 100px);
  resize: vertical;
}

/* ============================================
 * SELECT DROPDOWN STYLING
 * ============================================ */

/* Standardized select dropdown component */
.form-select,
select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding-right: 2.5rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 12px;
  cursor: pointer;
}

/* Dark theme select dropdown arrow */
[data-theme="dark"] .form-select,
[data-theme="dark"] select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23e0e0e0' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
}

/* Remove default arrow in IE */
.form-select::-ms-expand,
select::-ms-expand {
  display: none;
}

/* Form field focus states - Green border (exclude submit buttons and contact form) */
.form-input:focus,
.form-textarea:focus,
.form-select:focus,
.form-container input:not([type="submit"]):focus,
.login-form input:not([type="submit"]):focus,
.form-container textarea:focus,
.login-form textarea:focus,
.form-container select:focus,
.login-form select:focus {
  outline: none !important;
  border-color: var(--color-primary) !important;
  box-shadow: 0 0 0 2px rgba(0, 255, 65, 0.25) !important;
}

/* Submit button focus - keep black border */
input[type="submit"]:focus,
input[type="submit"]:active {
  border-color: #000000 !important;
  outline: none !important;
  box-shadow: 0 4px 8px var(--color-shadow) !important;
}

/* Submit button valid state - lime green background */
input[type="submit"].form-valid,
input.form-button.form-valid {
  background-color: var(--color-primary) !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

/* ============================================
 * FORM CONTAINER SYSTEM
 * ============================================ */

/* Form container styling - EXCLUDE .contact-form (has custom styling in pages/contact.css) */
.form-container,
.login-form {
  background: var(--color-neutral-300);
  padding: clamp(8px, 2.5vw, 20px);
  border-radius: 0;
  border: 4px solid #000000;
  box-shadow: 0 4px 8px var(--color-shadow);
  max-width: min(600px, 95vw);
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 2vw, 16px);
}

/* Form group spacing */
.form-group,
.form-row {
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: clamp(4px, 1vw, 8px);
}

/* ============================================
 * FORM LABELS AND TEXT
 * ============================================ */

/* Form labels */
.form-group label,
label {
  display: block;
  margin-bottom: 0;
  font-weight: 600;
  color: var(--color-dark);
  font-size: clamp(0.875rem, 2.5vw, 1rem);
}

/* Form intro text */
.form-intro {
  margin: 0;
  color: var(--fg);
  font-size: clamp(0.875rem, 2vw, 1rem);
  line-height: 1.4;
  text-align: center;
}

/* ============================================
 * BUTTON SYSTEM
 * ============================================ */

/* Base button styling */
.btn,
.form-button,
.login-btn,
.btn-primary,
.btn-secondary {
  padding: clamp(8px, 2vw, 12px) clamp(16px, 4vw, 24px);
  border: 4px solid #000000;
  border-radius: 0;
  font-size: clamp(0.8rem, 2vw, 1rem);
  font-weight: 600;
  cursor: pointer;
  font-family: inherit;
  text-shadow: 0 2px 4px var(--color-shadow);
  box-shadow: 0 4px 8px var(--color-shadow);
  transition: background-color 0.3s ease;
  text-transform: uppercase;
  box-sizing: border-box;
}

/* Primary button styling */
.btn-primary,
.form-button,
.login-btn {
  background-color: var(--color-neutral-300);
  color: var(--fg);
}

/* Valid/Active button state */
.btn-primary.form-valid,
.form-button.form-valid,
.login-btn.form-valid {
  background-color: var(--color-primary) !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

/* Ensure border stays black on all states */
.btn:focus,
.btn:active,
.btn:hover,
.form-button:focus,
.form-button:active,
.form-button:hover,
.login-btn:focus,
.login-btn:active,
.login-btn:hover {
  border-color: #000000 !important;
  outline: none !important;
}

/* Secondary button styling */
.btn-secondary {
  background-color: var(--color-neutral-100);
  color: var(--fg);
}

/* ============================================
 * VALIDATION STATES
 * ============================================ */

/* Error messages */
.error-message,
.login-error {
  margin: 0;
  color: #ef4444;
  font-size: 0.875rem;
  display: none;
}

.error-message.show,
.login-error.show {
  display: block;
}

/* ============================================
 * FORM FOOTER ELEMENTS
 * ============================================ */

/* Form footer styling */
.login-footer,
.form-footer {
  margin-top: clamp(8px, 2vw, 16px);
  padding-top: clamp(8px, 2vw, 16px);
  border-top: 1px solid var(--color-dark);
  text-align: center;
}

.login-footer p,
.form-footer p {
  margin: clamp(4px, 1vw, 8px) 0;
  color: var(--fg);
  font-size: 0.9rem;
}

/* ============================================
 * RESPONSIVE FORM BEHAVIORS
 * ============================================ */

@media screen and (max-width: 767px) {
  .form-container,
  .login-form {
    max-width: 95vw;
    padding: clamp(6px, 2vw, 16px);
    gap: clamp(6px, 1.5vw, 12px);
  }

  .form-input,
  .form-textarea,
  .form-select,
  .form-container input,
  .login-form input,
  .form-container textarea,
  .login-form textarea,
  .form-container select,
  .login-form select {
    font-size: clamp(0.7rem, 2.5vw, 0.9rem);
    min-height: clamp(28px, 7vw, 40px);
    height: auto;
  }

  .form-container textarea,
  .login-form textarea {
    min-height: clamp(50px, 12vw, 80px);
  }
}

@media screen and (max-width: 479px) {
  .form-container,
  .login-form {
    max-width: 98vw;
    padding: clamp(4px, 1.5vw, 12px);
  }

  .btn,
  .form-button,
  .login-btn {
    padding: clamp(6px, 1.5vw, 10px) clamp(12px, 3vw, 20px);
    font-size: clamp(0.7rem, 2.5vw, 0.9rem);
  }
}

/* ============================================
 * ACCESSIBILITY ENHANCEMENTS
 * ============================================ */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .form-input,
  .form-textarea,
  .form-select,
  .form-container input,
  .login-form input,
  .form-container textarea,
  .login-form textarea,
  .form-container select,
  .login-form select {
    border-width: 3px;
  }

  .btn,
  .form-button,
  .login-btn {
    border-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .form-input,
  .form-textarea,
  .form-select,
  .form-container input,
  .login-form input,
  .form-container textarea,
  .login-form textarea,
  .form-container select,
  .login-form select,
  .btn,
  .form-button,
  .login-btn {
    transition: none;
  }
}
