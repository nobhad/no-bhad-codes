<!doctype html>
<html lang="en" class="intro-loading" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#e0e0e0" />
    <title>No Bhad Codes - Professional Web Development</title>

    <!-- All CSS moved to external stylesheets -->
    <!-- Critical CSS for mobile - ensures header visible from first paint (same fixed as desktop) -->
    <style>
      @media screen and (max-width: 767px) {
        /* CRITICAL: Header must be visible immediately on mobile */
        .header,
        .intro-loading .header {
          opacity: 1 !important;
          visibility: visible !important;
        }
        .header > *,
        .intro-loading .header > * {
          opacity: 1 !important;
          visibility: visible !important;
        }
      }
    </style>
    <script>
      (function () {
        // Scroll to top immediately on page load (prevents browser scroll restoration)
        if ('scrollRestoration' in history) {
          history.scrollRestoration = 'manual';
        }
        try {
          window.scrollTo(0, 0);
          document.documentElement.scrollTop = 0;
          if (document.body) document.body.scrollTop = 0;
        } catch (e) { /* ignore scroll errors during early page load */ }

        // Also scroll to top after DOM loads and window loads
        document.addEventListener('DOMContentLoaded', function() {
          window.scrollTo(0, 0);
          document.documentElement.scrollTop = 0;
          if (document.body) document.body.scrollTop = 0;
          // Also scroll the main container
          var main = document.querySelector('main');
          if (main) main.scrollTop = 0;
        });
        window.addEventListener('load', function() {
          window.scrollTo(0, 0);
          document.documentElement.scrollTop = 0;
          if (document.body) document.body.scrollTop = 0;
          // Also scroll the main container
          var main = document.querySelector('main');
          if (main) main.scrollTop = 0;
        });

        try {
          const savedTheme = localStorage.getItem('theme');
          const theme = savedTheme || 'light';
          document.documentElement.setAttribute('data-theme', theme);
          // Update theme-color meta tag to match site background
          const themeColorMeta = document.querySelector('meta[name="theme-color"]');
          if (themeColorMeta) {
            themeColorMeta.setAttribute('content', theme === 'dark' ? '#2a2a2a' : '#e0e0e0');
          }
        } catch (e) {
          document.documentElement.setAttribute('data-theme', 'light');
        }
      })();
    </script>

    <!-- SEO -->
    <meta
      name="description"
      content="Professional web development services by Noelle Bhaduri. Custom websites, client portals, and modern web applications."
    />
    <meta name="author" content="Noelle Bhaduri" />
    <meta
      name="keywords"
      content="web development, portfolio, typescript, client management, professional websites"
    />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="No Bhad Codes - Professional Web Development" />
    <meta
      property="og:description"
      content="Professional web development services by Noelle Bhaduri"
    />
    <meta property="og:site_name" content="No Bhad Codes" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- GSAP -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/CustomEase.min.js"></script>

    <!-- Main Script -->
    <script type="module" src="/src/main.ts"></script>
  </head>
  <body>
    <!-- Portal Backdrop -->
    <div class="portal-backdrop" id="portal-backdrop"></div>

    <!-- Intake Modal Backdrop -->
    <div class="intake-modal-backdrop" id="intake-modal-backdrop"></div>

    <!-- Intake Modal -->
    <div class="intake-modal" id="intake-modal">
      <button class="intake-modal-close" id="intake-modal-close" aria-label="Close intake form">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      <div class="intake-modal-container">
        <!-- Terminal intake will be rendered here -->
      </div>
    </div>

    <!-- Portal Dropdown -->
    <div class="portal-dropdown" id="portal-dropdown">
      <div class="portal-dropdown-header">Client Login</div>

      <div class="portal-auth-toggle">
        <button type="button" class="portal-toggle-btn active" data-form="password">Password</button>
        <button type="button" class="portal-toggle-btn" data-form="magic">Magic Link</button>
      </div>

      <!-- Password Form -->
      <form class="portal-dropdown-form form-active" id="portal-password-form">
        <input type="email" class="dropdown-input" placeholder="Email" required />
        <div class="password-field">
          <input type="password" class="dropdown-input" placeholder="Password" required />
          <button type="button" class="password-toggle" aria-label="Toggle password visibility">
            <svg class="password-icon-show" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
            <svg class="password-icon-hide" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
          </button>
        </div>
        <button type="submit" class="dropdown-submit">Sign In</button>
        <button type="button" class="dropdown-link" id="forgot-password-link">Forgot password?</button>
      </form>

      <!-- Forgot Password Form -->
      <form class="portal-dropdown-form" id="portal-forgot-form">
        <p class="forgot-info">Enter your email to receive a password reset link.</p>
        <input type="email" class="dropdown-input" placeholder="Email" required />
        <button type="submit" class="dropdown-submit">Send Reset Link</button>
        <button type="button" class="dropdown-link" id="back-to-login">Back to login</button>
      </form>

      <!-- Reset Link Sent Confirmation -->
      <div class="portal-dropdown-form" id="portal-reset-sent">
        <div class="reset-sent-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"/>
            <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
            <path d="m16 19 2 2 4-4"/>
          </svg>
        </div>
        <p class="reset-sent-message">Reset link sent! Check your email for a link to reset your password. You will be required to set a new password on login.</p>
        <button type="button" class="dropdown-link" id="back-to-login-2">Back to login</button>
      </div>

      <!-- Magic Link Form -->
      <form class="portal-dropdown-form" id="portal-magic-form">
        <input type="email" class="dropdown-input" placeholder="Email" required />
        <button type="submit" class="dropdown-submit">Send Link</button>
        <p class="magic-info">A secure login link will be sent to your email.</p>
      </form>
    </div>

    <!-- NAVIGATION HEADER -->
    <header class="header">
      <div class="container is--full">
        <nav class="nav-row">
          <a href="/" aria-label="Go to homepage" class="nav-logo-row"> no bhad codes </a>
          <div class="nav-row__right">
            <!-- CLIENT PORTAL BUTTON -->
            <button class="portal-button" aria-label="Client Portal Login" id="portal-trigger">
              <div class="icon-wrap">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M18 20a6 6 0 0 0-12 0"/><circle cx="12" cy="10" r="4"/><circle cx="12" cy="12" r="10"/>
                </svg>
              </div>
            </button>

            <button id="toggle-theme" class="theme-button" aria-label="Toggle dark/light theme">
              <div class="icon-wrap">
                <svg
                  class="theme-icon sun-icon"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"></circle>
                  <path
                    d="M12 2V4M12 20V22M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
                    stroke="currentColor"
                    stroke-width="2"
                  ></path>
                </svg>
                <svg
                  class="theme-icon moon-icon"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path d="M21 12.79A9 9 0 1 1 11.21 3A7 7 0 0 0 21 12.79z"></path>
                </svg>
              </div>
            </button>
            <button role="button" data-menu-toggle="" class="menu-button">
              <div class="icon-wrap">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="100%"
                  viewBox="0 0 16 16"
                  fill="none"
                  class="menu-button-icon"
                >
                  <path
                    d="M7.33333 16L7.33333 -3.2055e-07L8.66667 -3.78832e-07L8.66667 16L7.33333 16Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M16 8.66667L-2.62269e-07 8.66667L-3.78832e-07 7.33333L16 7.33333L16 8.66667Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M6 7.33333L7.33333 7.33333L7.33333 6C7.33333 6.73637 6.73638 7.33333 6 7.33333Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M10 7.33333L8.66667 7.33333L8.66667 6C8.66667 6.73638 9.26362 7.33333 10 7.33333Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M6 8.66667L7.33333 8.66667L7.33333 10C7.33333 9.26362 6.73638 8.66667 6 8.66667Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M10 8.66667L8.66667 8.66667L8.66667 10C8.66667 9.26362 9.26362 8.66667 10 8.66667Z"
                    fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div class="menu-button-text">
                <p class="p-large">Menu</p>
                <p class="p-large">Close</p>
              </div>
            </button>
          </div>
        </nav>
      </div>
    </header>

    <!-- MOBILE/OVERLAY NAVIGATION -->
    <nav data-nav="closed" class="nav">
      <div data-menu-toggle="" class="overlay"></div>
      <div class="menu">
        <div class="menu-bg">
          <div class="bg-panel first"></div>
          <div class="bg-panel second"></div>
          <div class="bg-panel"></div>
        </div>
        <div class="menu-inner">
          <ul class="menu-list">
            <li class="menu-list-item">
              <a href="#intro" class="menu-link">
                <p class="menu-link-heading" data-text="home">home</p>
                <p class="eyebrow">00</p>
                <div class="menu-link-bg"></div>
              </a>
            </li>
            <li class="menu-list-item">
              <a href="#about" class="menu-link">
                <p class="menu-link-heading" data-text="about">about</p>
                <p class="eyebrow">01</p>
                <div class="menu-link-bg"></div>
              </a>
            </li>
            <li class="menu-list-item">
              <a href="#contact" class="menu-link">
                <p class="menu-link-heading" data-text="contact">contact</p>
                <p class="eyebrow">02</p>
                <div class="menu-link-bg"></div>
              </a>
            </li>
            <li class="menu-list-item">
              <a href="#" class="menu-link disabled">
                <p class="menu-link-heading" data-text="portfolio">portfolio</p>
                <p class="eyebrow">03</p>
                <div class="coming-soon-banner">Coming Soon</div>
                <div class="menu-link-bg"></div>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
      <!-- LOOP SPACER - Hidden initially, shown after infinite scroll loop -->
      <!-- This creates space so the business card can scroll up from below viewport -->
      <section id="loop-spacer" class="loop-spacer-section" aria-hidden="true"></section>

      <!-- BUSINESS CARD INTRO - First section shown on load -->
      <section id="intro" class="business-card-section">
        <div class="business-card-container">
          <div id="business-card" class="business-card">
            <div id="business-card-inner" class="business-card-inner">
              <!-- FRONT OF CARD -->
              <div class="business-card-front">
                <img
                  src="/images/business-card_front.svg"
                  alt="Business Card Front"
                  class="card-svg"
                  width="525"
                  height="299.7"
                />
              </div>
              <!-- BACK OF CARD -->
              <div class="business-card-back">
                <img
                  src="/images/business-card_back.svg"
                  alt="Avatar"
                  class="card-svg"
                  width="525"
                  height="299.7"
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ANIMATED TEXT SECTION -->
      <section id="text-animation" class="text-animation-section">
        <svg viewBox="0 0 1280 720" class="text-animation-svg">
          <defs>
            <mask id="maskLeft">
              <rect x="-50%" width="100%" height="100%" fill="#fff"/>
            </mask>
            <mask id="maskRight">
              <rect x="50%" width="100%" height="100%" fill="#fff"/>
            </mask>
          </defs>
          <g font-size="150" class="text-animation-group" transform="translate(0, 110)">
            <g mask="url(#maskLeft)" class="text-left">
              <text y="120">NO</text>
              <text y="250">BHAD</text>
              <text y="380">CODES</text>
            </g>
            <g mask="url(#maskRight)" class="text-right">
              <text y="120">NO</text>
              <text y="250">BHAD</text>
              <text y="380">CODES</text>
            </g>
          </g>
        </svg>
      </section>

      <!-- ABOUT SECTION -->
      <section id="about" class="about-section">
        <div class="about-content">
          <div class="about-text-wrapper">
            <h2>about</h2>
            <p>
              Hi, I'm Noelle Bhaduri. I build for the web – everything from simple link-in-bios to
              full-stack custom software. I've worked on animated landing pages, browser extensions,
              e-commerce sites, CMSs, and portfolios for creators and businesses.
            </p>

            <p>
              I like combining clean code with good design. I work with modern frameworks, build
              type-safe apps, set up scalable backends, and make sure the UI actually feels nice to
              use. I take projects from idea to launch and make sure they fit what you actually
              need.
            </p>

            <p>
              Currently based in the Boston, MA area and actively seeking web development
              opportunities.
            </p>
          </div>

          <div class="tech-stack-viewport">
            <div class="tech-stack">
              <h3>tech stack</h3>
              <p class="tech-list">
                JavaScript • TypeScript • HTML5 • CSS3 • PHP • React • Next.js • Vue.js • jQuery •
                Tailwind CSS • Bootstrap • Vuetify • GSAP • Node.js • Express.js • EJS • Handlebars •
                PostgreSQL • MongoDB • Redis • Supabase • MySQL • SQLite • Mongoose • Git • Vite •
                Webpack • npm/yarn • Jotai • Zod • JWT Auth • Vitest • Playwright • Storybook •
                Sentry • Vercel • Railway • Chart.js • PDFKit • Nodemailer • Chrome Extensions API •
                Claude Code CLI • Adobe Illustrator • Photoshop
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACT SECTION -->
      <section id="contact" class="contact-section">
        <h2>contact</h2>

        <div class="contact-options">
          <p>
            <span class="contact-option-label">Message me here</span>,
            fill out a project <a href="#" class="contact-option-link" id="open-intake-link">intake form</a>,
            or <a href="mailto:nobhaduri@gmail.com" class="contact-option-link">email me</a>.
          </p>
        </div>

        <form class="contact-form" method="post" name="contact-form" novalidate aria-label="Contact form" autocomplete="off" data-form-type="other" data-1p-ignore data-lpignore="true" data-bwignore>
          <!-- Honeypot field for bot detection -->
          <input name="bot-field" style="display: none" aria-hidden="true" tabindex="-1" autocomplete="off" />

          <!-- Top row: inputs + submit button -->
          <div class="contact-row">
            <!-- Left column: name, company, email -->
            <div class="contact-left">
              <div class="input-wrapper">
                <div class="input-item">
                  <input
                    id="name"
                    placeholder="..."
                    required
                    autocomplete="name"
                    tabindex="1"
                    type="text"
                    name="Name"
                    maxlength="256"
                    aria-label="Name"
                    aria-required="true"
                    data-required="true"
                    data-1p-ignore
                    data-lpignore="true"
                    data-bwignore
                  />
                  <label class="text-small" for="name">Name</label>
                </div>
              </div>

              <div class="input-wrapper">
                <div class="input-item">
                  <input
                    id="company"
                    placeholder="..."
                    autocomplete="organization"
                    tabindex="2"
                    type="text"
                    name="Company-Name"
                    maxlength="256"
                    aria-label="Company (optional)"
                    data-1p-ignore
                    data-lpignore="true"
                    data-bwignore
                  />
                  <label class="text-small" for="company">Company (optional)</label>
                </div>
              </div>

              <div class="input-wrapper">
                <div class="input-item">
                  <input
                    id="email"
                    placeholder="..."
                    required
                    autocomplete="email"
                    tabindex="3"
                    type="email"
                    name="Email"
                    maxlength="256"
                    aria-label="Email"
                    aria-required="true"
                    data-required="true"
                    data-1p-ignore
                    data-lpignore="true"
                    data-bwignore
                  />
                  <label class="text-small" for="email">Email</label>
                </div>
              </div>
            </div>

            <!-- Right column: submit button -->
            <div class="contact-right">
              <button class="submit-button" type="submit" tabindex="5" aria-label="Submit contact form">
                <span></span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bow-arrow-icon lucide-bow-arrow" aria-hidden="true">
                  <path d="M17 3h4v4"/>
                  <path d="M18.575 11.082a13 13 0 0 1 1.048 9.027 1.17 1.17 0 0 1-1.914.597L14 17"/>
                  <path d="M7 10 3.29 6.29a1.17 1.17 0 0 1 .6-1.91 13 13 0 0 1 9.03 1.05"/>
                  <path d="M7 14a1.7 1.7 0 0 0-1.207.5l-2.646 2.646A.5.5 0 0 0 3.5 18H5a1 1 0 0 1 1 1v1.5a.5.5 0 0 0 .854.354L9.5 18.207A1.7 1.7 0 0 0 10 17v-2a1 1 0 0 0-1-1z"/>
                  <path d="M9.707 14.293 21 3"/>
                </svg>
              </button>
            </div>
          </div>

          <!-- Bottom row: message textarea spanning full width -->
          <div class="contact-message-row">
            <div class="input-wrapper">
              <div class="input-item">
                <textarea
                  id="message"
                  name="Message"
                  placeholder="..."
                  required
                  rows="4"
                  tabindex="4"
                  maxlength="1000"
                  aria-label="Message"
                  aria-required="true"
                  data-required="true"
                  data-1p-ignore
                  data-lpignore="true"
                  data-bwignore
                ></textarea>
                <label class="text-small" for="message">Message</label>
              </div>
            </div>
          </div>
        </form>
      </section>

      <!-- LOOP TRIGGER ZONE - Empty space after contact so it can scroll out -->
      <section id="loop-trigger-zone" class="loop-trigger-zone" aria-hidden="true"></section>

      <!-- BOTTOM LOOP SPACER - Hidden initially, shown after reverse scroll loop -->
      <!-- This creates space so the contact section can scroll down from above viewport -->
      <section id="loop-spacer-bottom" class="loop-spacer-section" aria-hidden="true"></section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <p>&copy; <span id="copyright-year"></span> No Bhad Codes. All rights reserved.</p>
      </div>
    </footer>
    <script>
      // Dynamic copyright year
      document.getElementById('copyright-year').textContent = new Date().getFullYear();

      // Portal dropdown functionality
      (function() {
        const trigger = document.getElementById('portal-trigger');
        const dropdown = document.getElementById('portal-dropdown');
        const backdrop = document.getElementById('portal-backdrop');
        const passwordForm = document.getElementById('portal-password-form');
        const magicForm = document.getElementById('portal-magic-form');
        const forgotForm = document.getElementById('portal-forgot-form');
        const resetSent = document.getElementById('portal-reset-sent');
        const authToggle = dropdown.querySelector('.portal-auth-toggle');
        const forgotLink = document.getElementById('forgot-password-link');
        const backToLogin = document.getElementById('back-to-login');
        const backToLogin2 = document.getElementById('back-to-login-2');

        // Toggle dropdown
        trigger.addEventListener('click', function(e) {
          e.stopPropagation();
          dropdown.classList.toggle('open');
          backdrop.classList.toggle('open');
        });

        // Close on backdrop click
        backdrop.addEventListener('click', function() {
          dropdown.classList.remove('open');
          backdrop.classList.remove('open');
        });

        // Close on escape
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') {
            dropdown.classList.remove('open');
            backdrop.classList.remove('open');
          }
        });

        // Email validation helper
        function isValidEmail(email) {
          return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        // Hide all forms helper
        function hideAllForms() {
          passwordForm.classList.remove('form-active');
          magicForm.classList.remove('form-active');
          forgotForm.classList.remove('form-active');
          resetSent.classList.remove('form-active');
        }

        // Show login form helper
        function showLoginForm() {
          hideAllForms();
          passwordForm.classList.add('form-active');
          authToggle.style.display = 'flex';
          authToggle.querySelector('[data-form="password"]').classList.add('active');
          authToggle.querySelector('[data-form="magic"]').classList.remove('active');
        }

        // Auth toggle (Password/Magic Link)
        authToggle.addEventListener('click', function(e) {
          const btn = e.target.closest('.portal-toggle-btn');
          if (!btn) return;

          e.preventDefault();
          e.stopPropagation();

          // Hide forgot/reset views
          forgotForm.classList.remove('form-active');
          resetSent.classList.remove('form-active');

          // Update button states
          authToggle.querySelectorAll('.portal-toggle-btn').forEach(function(b) {
            b.classList.remove('active');
          });
          btn.classList.add('active');

          // Show/hide forms
          if (btn.dataset.form === 'password') {
            passwordForm.classList.add('form-active');
            magicForm.classList.remove('form-active');
          } else {
            magicForm.classList.add('form-active');
            passwordForm.classList.remove('form-active');
          }
        });

        // Password visibility toggle
        const pwToggle = dropdown.querySelector('.password-toggle');
        if (pwToggle) {
          pwToggle.addEventListener('click', function() {
            const input = this.previousElementSibling;
            const isPassword = input.type === 'password';
            input.type = isPassword ? 'text' : 'password';
            this.classList.toggle('showing', !isPassword);
          });
        }

        // Forgot password link
        forgotLink.addEventListener('click', function(e) {
          e.preventDefault();
          hideAllForms();
          forgotForm.classList.add('form-active');
          authToggle.style.display = 'none';
        });

        // Back to login buttons
        backToLogin.addEventListener('click', function(e) {
          e.preventDefault();
          showLoginForm();
        });

        backToLogin2.addEventListener('click', function(e) {
          e.preventDefault();
          showLoginForm();
        });

        // Form validation - Password form
        function validatePasswordForm() {
          const emailInput = passwordForm.querySelector('input[type="email"]');
          const passwordInput = passwordForm.querySelector('input[type="password"]');
          const submitBtn = passwordForm.querySelector('.dropdown-submit');

          const emailValid = isValidEmail(emailInput.value.trim());
          const passwordValid = passwordInput.value.length >= 1;

          if (emailValid && passwordValid) {
            submitBtn.classList.add('valid');
          } else {
            submitBtn.classList.remove('valid');
          }
        }

        passwordForm.querySelectorAll('input').forEach(function(input) {
          input.addEventListener('input', validatePasswordForm);
        });

        // Form validation - Magic link form
        function validateMagicForm() {
          const emailInput = magicForm.querySelector('input[type="email"]');
          const submitBtn = magicForm.querySelector('.dropdown-submit');

          if (isValidEmail(emailInput.value.trim())) {
            submitBtn.classList.add('valid');
          } else {
            submitBtn.classList.remove('valid');
          }
        }

        magicForm.querySelectorAll('input').forEach(function(input) {
          input.addEventListener('input', validateMagicForm);
        });

        // Form validation - Forgot form
        function validateForgotForm() {
          const emailInput = forgotForm.querySelector('input[type="email"]');
          const submitBtn = forgotForm.querySelector('.dropdown-submit');

          if (isValidEmail(emailInput.value.trim())) {
            submitBtn.classList.add('valid');
          } else {
            submitBtn.classList.remove('valid');
          }
        }

        forgotForm.querySelectorAll('input').forEach(function(input) {
          input.addEventListener('input', validateForgotForm);
        });

        // Forgot form submit - show confirmation
        forgotForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const emailInput = forgotForm.querySelector('input[type="email"]');
          if (isValidEmail(emailInput.value.trim())) {
            hideAllForms();
            resetSent.classList.add('form-active');
            emailInput.value = '';
            forgotForm.querySelector('.dropdown-submit').classList.remove('valid');
          }
        });

      })();

    </script>
    <script type="module">
      // Intake modal functionality (module script for dynamic imports)
      document.addEventListener('DOMContentLoaded', function() {
        const intakeModal = document.getElementById('intake-modal');
        const intakeBackdrop = document.getElementById('intake-modal-backdrop');
        const intakeClose = document.getElementById('intake-modal-close');
        const intakeContainer = intakeModal ? intakeModal.querySelector('.intake-modal-container') : null;
        const openIntakeLink = document.getElementById('open-intake-link');
        let terminalModule = null;

        async function openIntakeModal() {
          intakeModal.classList.add('open');
          intakeBackdrop.classList.add('open');
          document.body.style.overflow = 'hidden';

          // Initialize terminal if not already done
          if (!terminalModule && intakeContainer) {
            try {
              const module = await import('./src/features/client/terminal-intake.ts');
              const { TerminalIntakeModule } = module;
              terminalModule = new TerminalIntakeModule(intakeContainer, { isModal: true });
              await terminalModule.init();
            } catch (error) {
              console.error('[IntakeModal] Failed to initialize:', error);
              intakeContainer.innerHTML = '<div style="text-align: center; padding: 2rem; color: #ff4444; background: #1e1e1e; height: 100%; display: flex; flex-direction: column; justify-content: center;"><h2>Unable to load intake form</h2><p>Please try refreshing the page or <a href="/client/intake" style="color: #00ff41;">visit the intake page directly</a>.</p></div>';
            }
          }
        }

        function closeIntakeModal() {
          intakeModal.classList.remove('open');
          intakeBackdrop.classList.remove('open');
          document.body.style.overflow = '';
        }

        // Open modal from "intake form" link
        if (openIntakeLink) {
          openIntakeLink.addEventListener('click', function(e) {
            e.preventDefault();
            openIntakeModal();
          });
        }

        // Close button
        if (intakeClose) {
          intakeClose.addEventListener('click', closeIntakeModal);
        }

        // Close on backdrop click
        if (intakeBackdrop) {
          intakeBackdrop.addEventListener('click', closeIntakeModal);
        }

        // Close on escape
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape' && intakeModal && intakeModal.classList.contains('open')) {
            closeIntakeModal();
          }
        });
      });
    </script>
  </body>
</html>
